import{c as x,j as e,b as m,R as h,r as i}from"../../assets/globals-CpXLJpGg.js";import{E as u}from"../../assets/EmptyState-Co5PRurJ.js";import{X as f}from"../../assets/x-DtupM9aY.js";import{D as n}from"../../assets/download-BJgnHjti.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],g=x("folder-open",p);function v({downloads:s,onClose:r}){return e.jsxs("div",{className:"absolute top-[95px] right-4 w-80 max-h-[400px] glass-surface rounded-2xl shadow-2xl flex flex-col overflow-hidden z-50 animate-slide-down",children:[e.jsxs("div",{className:"p-4 border-b border-black/8 dark:border-white/8 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Downloads"}),e.jsx("button",{onClick:r,className:"w-6 h-6 rounded-full hover:bg-black/10 dark:hover:bg-white/10 flex items-center justify-center transition-colors text-gray-700 dark:text-gray-300","aria-label":"Close downloads",children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:s.length===0?e.jsx(u,{icon:n,title:"No downloads yet",description:"Files you download will appear here for easy access."}):e.jsx("div",{className:"space-y-2",children:s.map((t,a)=>e.jsx("div",{className:"p-3 rounded-lg glass-surface-subtle",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(n,{className:"w-4 h-4 mt-0.5 text-white/60"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm truncate",children:t.filename}),e.jsx("div",{className:"text-xs text-white/40 mt-1",children:t.size}),t.status==="downloading"&&e.jsx("div",{className:"mt-2 h-1 bg-gray-300 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 dark:bg-blue-400 transition-all duration-300",style:{width:`${t.progress}%`}})}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsxs("span",{className:`text-xs font-medium ${t.status==="completed"?"text-green-600 dark:text-green-400":t.status==="failed"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:[t.status==="completed"&&"Complete",t.status==="downloading"&&`${t.progress}%`,t.status==="failed"&&"Failed"]}),t.status==="completed"&&e.jsxs("button",{className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 flex items-center gap-1 transition-colors",children:[e.jsx(g,{className:"w-3 h-3"}),"Show in folder"]})]})]})]})},a))})})]})}function b(s){const r=s.totalBytes>0?s.receivedBytes/s.totalBytes*100:0,t=s.state==="completed"?"completed":s.state==="progressing"?"downloading":"failed",a=`${(s.totalBytes/1024/1024).toFixed(2)} MB`;return{filename:s.filename,url:s.url,status:t,progress:r,size:a}}function j(){const[s,r]=i.useState([]);i.useEffect(()=>{const a=async()=>{var o;try{const l=await((o=window.electronAPI)==null?void 0:o.getDownloads());if(l){const d=l.map(b);r(d)}}catch(l){console.error("Failed to load downloads:",l)}};a();const c=setInterval(a,1e3);return()=>clearInterval(c)},[]);const t=()=>{window.close()};return e.jsxs("div",{className:"h-full w-screen bg-transparent dark overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/10 via-white/5 to-transparent backdrop-blur-xl"}),e.jsx("div",{className:"absolute inset-0 border-t border-white/20 shadow-2xl"}),e.jsx("div",{className:"relative z-10 h-full p-4",children:e.jsx(v,{downloads:s,onClose:t})})]})}m.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(j,{})}));
