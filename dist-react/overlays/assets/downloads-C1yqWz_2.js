import{c as m,j as e,X as w,b as f,R as u,r as x}from"../../assets/globals-CiO-dAWo.js";import{E as v}from"../../assets/EmptyState-DePBRdlM.js";import{D as d}from"../../assets/download-DDoNyUM7.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],j=m("folder-open",p);function g({downloads:n,onClose:c,onShowInFolder:o}){const i=t=>{if(t===0)return"0 B";const a=1024,l=["B","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(a));return Math.round(t/Math.pow(a,s)*100)/100+" "+l[s]},r=t=>t.totalBytes===0?0:Math.round(t.receivedBytes/t.totalBytes*100);return e.jsxs("div",{className:"h-full w-full flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"font-semibold text-white",children:"Downloads"})]}),e.jsx("button",{onClick:c,className:"w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors text-gray-300 hover:text-white","aria-label":"Close downloads",title:"Close (Esc)",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3",children:n.length===0?e.jsx(v,{icon:d,title:"No downloads yet",description:"Files you download will appear here for easy access."}):e.jsx("div",{className:"space-y-2",children:n.map(t=>{const a=r(t),l=t.state==="progressing",s=t.state==="completed",h=t.state==="interrupted"||t.state==="cancelled";return e.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(d,{className:"w-4 h-4 mt-0.5 text-green-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm truncate text-white font-medium",children:t.filename}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[i(t.receivedBytes)," / ",i(t.totalBytes)]}),l&&e.jsx("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-400 transition-all duration-300",style:{width:`${a}%`}})}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:`text-xs font-medium ${s?"text-green-400":h?"text-red-400":"text-blue-400"}`,children:[s&&"Complete",l&&`${a}%`,h&&"Failed",t.state==="paused"&&"Paused"]}),s&&o&&e.jsxs("button",{onClick:()=>o(t.id),className:"text-xs text-gray-400 hover:text-white flex items-center gap-1 transition-colors","aria-label":"Show in folder",children:[e.jsx(j,{className:"w-3 h-3"}),"Show in folder"]})]})]})]})},t.id)})})})]})}function y(){const[n,c]=x.useState([]),o=()=>{var r;(r=window.electronAPI)==null||r.hideOverlay("downloads")},i=async r=>{var t;try{await((t=window.electronAPI)==null?void 0:t.showInFolder(r))}catch(a){console.error("Failed to show in folder:",a)}};return x.useEffect(()=>{const r=async()=>{var l;try{const s=await((l=window.electronAPI)==null?void 0:l.getDownloads());s&&c(s)}catch(s){console.error("Failed to load downloads:",s)}};r();const t=setInterval(r,1e3),a=l=>{l.key==="Escape"&&o()};return window.addEventListener("keydown",a),()=>{clearInterval(t),window.removeEventListener("keydown",a)}},[]),e.jsxs("div",{className:"h-full w-screen bg-transparent dark overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/10 via-white/5 to-transparent backdrop-blur-xl"}),e.jsx("div",{className:"absolute inset-0 border-t-2 border-white/30 shadow-2xl"}),e.jsx("div",{className:"relative z-10 h-full",children:e.jsx(g,{downloads:n,onClose:o,onShowInFolder:i})})]})}f.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(y,{})}));
